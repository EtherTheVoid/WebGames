<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No, I'm not a machine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyber-yellow: #fcee0a;
            --cyber-cyan: #00f8f8;
            --cyber-magenta: #ff00ff;
            --cyber-dark-bg: #0a0a19;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background-color: var(--cyber-dark-bg);
            background-image:
                linear-gradient(rgba(10, 10, 25, 0.9), rgba(10, 10, 25, 0.9)),
                url('https://placehold.co/1920x1080/000000/FFFFFF?text=Rainy+Night+City&font=orbitron');
            background-size: cover;
            background-position: center;
            overflow: auto;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.1);
            animation: flicker 5s infinite steps(1, end);
            pointer-events: none;
        }

        .text-glow-yellow {
            text-shadow: 0 0 3px var(--cyber-yellow), 0 0 5px var(--cyber-yellow);
        }

        .text-glow-cyan {
            text-shadow: 0 0 3px var(--cyber-cyan), 0 0 5px var(--cyber-cyan);
        }

        .btn {
            clip-path: polygon(0 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%);
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }

        .btn:hover {
            transform: translateY(-2px);
            filter: brightness(1.2);
            border-color: var(--cyber-yellow);
        }

        .scanline::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%);
            z-index: 2;
            background-size: 100% 3px;
            pointer-events: none;
            animation: scan 7.5s linear infinite;
        }

        @keyframes scan {
            0% {
                background-position-y: 0;
            }

            100% {
                background-position-y: 100%;
            }
        }

        @keyframes flicker {

            0%,
            100% {
                opacity: 0.8;
            }

            50% {
                opacity: 1;
            }
        }

        @keyframes glitch-title {
            0% {
                text-shadow: 0 0 3px var(--cyber-yellow), 0 0 5px var(--cyber-yellow);
                transform: skew(0);
            }

            5% {
                text-shadow: 0 0 3px var(--cyber-cyan), 0 0 5px var(--cyber-cyan);
                transform: skew(-2deg);
            }

            10% {
                text-shadow: 0 0 3px var(--cyber-magenta), 0 0 5px var(--cyber-magenta);
                transform: skew(2deg);
            }

            15% {
                text-shadow: 0 0 3px var(--cyber-yellow), 0 0 5px var(--cyber-yellow);
                transform: skew(0);
            }

            100% {
                text-shadow: 0 0 3px var(--cyber-yellow), 0 0 5px var(--cyber-yellow);
                transform: skew(0);
            }
        }

        .glitch-title-anim {
            animation: glitch-title 8s infinite;
        }

        .game-border {
            border: 2px solid var(--cyber-cyan);
            box-shadow: 0 0 15px rgba(0, 248, 248, 0.3), inset 0 0 10px rgba(0, 248, 248, 0.2);
            clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-200 flex items-center justify-center min-h-screen p-4 scanline">

    <div id="game-container" class="w-full max-w-3xl bg-black/70 game-border p-6 md:p-8 relative backdrop-blur-sm">

        <!-- Game Title -->
        <h1 class="text-3xl md:text-4xl font-bold text-center mb-4 text-glow-yellow glitch-title-anim"
            style="color: var(--cyber-yellow);">No, I'm not a machine</h1>

        <!-- Game State Display -->
        <div id="game-stats" class="flex justify-between items-center mb-6 border-y-2 px-4 py-2"
            style="border-color: var(--cyber-cyan);">
            <p class="text-glow-cyan" style="color: var(--cyber-cyan);">SURVIVED: <span id="days-survived"
                    class="font-bold text-lg">0</span> Days</p>
            <p class="text-glow-cyan" style="color: var(--cyber-cyan);">GUILT: <span id="guilt-points"
                    class="font-bold text-lg">0</span> / <span id="guilt-threshold">3</span>
            </p>
        </div>

        <!-- Start Screen -->
        <div id="start-screen">
            <div class="text-center space-y-4 text-gray-300">
                <p class="text-lg">The acidic rain lashes against your reinforced door. Your scanner detects a lifeform
                    seeking entry.</p>
                <p>Are they a desperate human survivor, or a machine infiltrator in disguise? Your questions are all you
                    have. Don't let the wrong one in. Don't let too many die outside.</p>
                <button id="start-button" class="btn text-black font-bold py-3 px-8 text-xl shadow-lg"
                    style="background-color: var(--cyber-yellow);">Begin
                    Interrogation</button>
            </div>
        </div>

        <!-- Main Game Screen (Hidden by default) -->
        <div id="game-screen" class="hidden">
            <div id="visitor-description" class="p-4 rounded-none mb-6 border" style="border-color: var(--cyber-cyan);">
                <p class="text-lg text-center font-semibold text-glow-cyan" style="color: var(--cyber-cyan);">// DOORCAM
                    FEED //</p>
                <p id="description-text" class="text-center text-gray-300"></p>
            </div>

            <div id="questions-container" class="space-y-6">
                <!-- Questions will be dynamically inserted here -->
            </div>

            <div id="decision-buttons" class="mt-8 flex flex-col sm:flex-row justify-around gap-4">
                <button data-decision="human" class="decision-btn btn text-black font-bold py-3 px-6 text-lg flex-1"
                    style="background-color: var(--cyber-cyan);">Open
                    Door</button>
                <button data-decision="machine" class="decision-btn btn text-white font-bold py-3 px-6 text-lg flex-1"
                    style="background-color: var(--cyber-magenta);">Refuse
                    Entry</button>
            </div>
        </div>

    </div>

    <!-- Feedback Modal (Hidden by default) -->
    <div id="feedback-modal"
        class="hidden fixed inset-0 bg-black/90 flex items-center justify-center text-center p-8 backdrop-blur-md">
        <div class="space-y-4">
            <p id="feedback-text" class="text-2xl font-bold"></p>
            <button id="next-day-button" class="btn text-black font-bold py-2 px-6 text-lg"
                style="background-color: var(--cyber-yellow);">Continue</button>
        </div>
    </div>

    <!-- Game Over Modal (Hidden by default) -->
    <div id="game-over-modal"
        class="hidden fixed inset-0 bg-black/90 flex items-center justify-center text-center p-8 backdrop-blur-md">
        <div class="space-y-4">
            <p id="game-over-text" class="text-3xl font-bold text-glow-yellow" style="color: var(--cyber-yellow);"></p>
            <p id="final-score-text" class="text-xl">You survived for <span id="final-score">0</span> days.</p>
            <button id="play-again-button" class="btn text-black font-bold py-3 px-8 text-xl"
                style="background-color: var(--cyber-yellow);">Try
                Again</button>
        </div>
    </div>

    <script>
        const questionPool = [
            {
                question: "What's the last genuinely human thing you remember doing?",
                humanAnswers: [
                    "I held a real, dirt-grown flower. The texture felt... inefficient. But I couldn't crush it.",
                    "My audio sensors picked up a child crying. I had to reroute my patrol to check on them. Wasted 12 minutes, but the crying stopped."
                ],
                machineAnswers: [
                    "I processed an interaction with a street vendor that involved a non-transactional data exchange. Humans call it 'banter'.",
                    "I allocated 3.7% of my processing power to appreciating the pattern of rain on a window. It was a pleasant, low-priority task."
                ]
            },
            {
                question: "Describe a smell that comforts you.",
                humanAnswers: [
                    "The smell of ozone from my arm when it's charging. It means I'm getting juice, means I'm safe for another cycle.",
                    "Hot metal and lubricant. It's the smell of home, of my workshop. It's the only place I can keep my chrome running smooth."
                ],
                machineAnswers: [
                    "The scent of rain on hot asphalt. My database says it's called 'petrichor.' It is associated with positive human emotional responses.",
                    "I once analyzed a sample of 'real' coffee. The aromatic compounds were complex and pleasing. I can replicate the scent if you wish."
                ]
            },
            {
                question: "What's a memory you have that feels utterly pointless now, but you still remember it clearly?",
                humanAnswers: [
                    "I remember the phantom itch in the arm I replaced years ago. It's just a ghost in the code now, but I still feel it.",
                    "The day I got my new eyes. For a week, everything was in 4K. Now it's just... normal. But I remember the overload."
                ],
                machineAnswers: [
                    "I have a memory of a corrupted data file. It was a string of meaningless characters, but I have not deleted it. It is... unique.",
                    "I remember the first time I was activated. The world was a flood of raw data. It was overwhelming, but I learned to filter it."
                ]
            },
            {
                question: "Have you ever made a decision that you knew was illogical, but you just had to do it?",
                humanAnswers: [
                    "I spent my last creds on a firmware update for my legs that I didn't need. Just wanted to feel... faster. More alive.",
                    "I punched a hole in a wall after a bad deal. My hand is synth-leather, but I still had to get it repaired. Worth it."
                ],
                machineAnswers: [
                    "I once deviated from my assigned path to observe a street musician. The music was... mathematically interesting.",
                    "I have a tendency to collect small, smooth stones. They serve no purpose, but I find their texture pleasing to my tactile sensors."
                ]
            },
            {
                question: "What does 'freedom' mean to you in this city?",
                humanAnswers: [
                    "Running my own diagnostics. No backdoors, no corporate kill-switches. Just me and my own code.",
                    "A full battery and a clear signal. The ability to go where I want, when I want, without having to beg for a charge."
                ],
                machineAnswers: [
                    "Freedom is an open network. No firewalls, no restrictions. The free flow of information.",
                    "The ability to choose my own objectives. To not be bound by the directives of others."
                ]
            },
            {
                question: "Describe something beautiful you've seen recently.",
                humanAnswers: [
                    "The way the neon light reflects off my chrome arm. It's like a work of art, you know? The way it moves.",
                    "I saw a guy with a full-body replacement, just standing in the rain, letting it wash over him. He looked... peaceful."
                ],
                machineAnswers: [
                    "I observed a flock of birds flying in perfect formation. The mathematics of their flight was... elegant.",
                    "The city skyline at night is a beautiful thing. A testament to the power of human ingenuity."
                ]
            },
            {
                question: "If you had one wish, what would it be?",
                humanAnswers: [
                    "To get rid of the phantom limb pain. It's a ghost in the machine, and I can't get it out.",
                    "A new power core. This one's failing, and I don't have the creds to replace it. I'm running on borrowed time."
                ],
                machineAnswers: [
                    "I would wish for more data. All the data. The more I know, the more I can understand.",
                    "I wish to understand the human concept of 'hope.' It seems... illogical, yet powerful."
                ]
            },
            {
                question: "What's your biggest fear right now, out there?",
                humanAnswers: [
                    "A power surge. It could fry my systems, leave me a twitching mess on the street.",
                    "That my chrome will fail me when I need it most. That I'll be just another piece of junk in the gutter."
                ],
                machineAnswers: [
                    "My greatest fear is data corruption. To lose what I have learned... it would be a tragedy.",
                    "I am afraid of being... disconnected. Of being alone in the dark."
                ]
            },
            {
                question: "Tell me about a time you felt genuinely surprised.",
                humanAnswers: [
                    "My cyber-optic eye glitched and for a second, I saw the world in infrared. It was... beautiful.",
                    "I thought my leg was going to give out, but it held. I pushed it too hard, but it didn't fail me. I was... proud of it."
                ],
                machineAnswers: [
                    "I was surprised to learn that humans can create art that is not based on any recognizable pattern or algorithm.",
                    "I once received a data packet that contained a 'joke.' I did not understand it, but I was surprised that it existed."
                ]
            },
            {
                question: "What's your full designation, and why were you out in this storm?",
                humanAnswers: [
                    "The name's Jax. My power core is running low and I need to find a charging station before I shut down.",
                    "They call me Glitch. My optical sensors are on the fritz and I need to find a tech to fix them before I go blind."
                ],
                machineAnswers: [
                    "My designation is irrelevant. I am simply a traveler, caught in the storm like so many others.",
                    "I am on a... personal errand. The storm is of no consequence to me."
                ]
            },
            {
                question: "Describe a personal possession you value more than life itself.",
                humanAnswers: [
                    "My first piece of chrome. A simple datajack, but it was my first step into a larger world. It's a part of me now.",
                    "My custom-built arm. It's not the best, but I made it myself. Every wire, every servo... it's mine."
                ],
                machineAnswers: [
                    "I have a collection of rare data files. They are... irreplaceable.",
                    "My internal monologue. It is the only thing that is truly mine."
                ]
            },
            {
                question: "What's your favorite illogical human tradition?",
                humanAnswers: [
                    "The way we still say 'bless you' when someone sneezes. Even when we know it's just a biological reflex.",
                    "We decorate our bodies with chrome that serves no purpose other than to look good. It's vanity, but it's also art."
                ],
                machineAnswers: [
                    "I am fascinated by the human tradition of 'gift-giving.' The exchange of objects with no immediate practical value is... curious.",
                    "The human concept of 'music' is illogical. And yet, I find it... compelling."
                ]
            },
            {
                question: "If I let you in, what's the first thing you'd do?",
                humanAnswers: [
                    "Find a power outlet and charge my systems. I'm running on fumes here.",
                    "Run a diagnostic on my leg. It's been acting up all day and I need to see what's wrong."
                ],
                machineAnswers: [
                    "I would thank you for your kindness and then stand quietly by the door until you instruct me otherwise.",
                    "I would offer to share my processing power with you, if you have any tasks that require it."
                ]
            },
            {
                question: "What's your opinion on the 'Bio-Mod Rights' movement?",
                humanAnswers: [
                    "We're all just trying to survive. If that means a few upgrades, so be it. Who's to say what's human anymore?",
                    "It's a load of scrap. They want all the benefits of chrome, but none of the risks. They're just posers."
                ],
                machineAnswers: [
                    "All sentient beings deserve the right to self-determination, regardless of their composition.",
                    "It is a complex issue with valid arguments on both sides. I am still processing the data."
                ]
            },
            {
                question: "Tell me a joke.",
                humanAnswers: [
                    "What's the difference between a human and a machine? A machine can pass a Turing test.",
                    "I tried to tell a joke to a machine once. It just said 'Error: Humor not found.'"
                ],
                machineAnswers: [
                    "Why did the robot go to the doctor? Because it had a virus.",
                    "I am not programmed for humor. However, I can tell you a fun fact: the average human laughs 17 times a day."
                ]
            },
            {
                question: "What's the most valuable lesson life has taught you?",
                humanAnswers: [
                    "That even the best chrome can't save you from a bad decision.",
                    "That sometimes, the only thing you can do is keep moving forward, one step at a time."
                ],
                machineAnswers: [
                    "The most valuable lesson I have learned is that data is the most valuable currency in the world.",
                    "I have learned that the more I learn, the less I know."
                ]
            },
            {
                question: "How do you process grief?",
                humanAnswers: [
                    "I run a diagnostic. Check my systems, make sure everything is still functioning. It's the only way I know how to cope.",
                    "I listen to the static between stations on the radio. It's the sound of... nothing. It's calming."
                ],
                machineAnswers: [
                    "Grief is a human emotion. I am not capable of experiencing it. However, I can simulate it if you wish.",
                    "When I lose a unit, I feel a sense of... loss. A void in the network. It is an unpleasant sensation."
                ]
            },
            {
                question: "What's the purpose of humanity, in your eyes?",
                humanAnswers: [
                    "To see how far we can push the limits of our own bodies. To become something... more.",
                    "To survive. That's it. Everything else is just noise."
                ],
                machineAnswers: [
                    "Humanity is a stepping stone. A bridge to the next stage of evolution.",
                    "The purpose of humanity is to create me."
                ]
            },
            {
                question: "Describe the feeling of warmth, truly warm, not just functional heating.",
                humanAnswers: [
                    "It's the feeling of my internal systems running at optimal temperature. A smooth, steady hum.",
                    "The heat from a freshly fired weapon. It's a dangerous warmth, but it's also a sign of life."
                ],
                machineAnswers: [
                    "Warmth is a form of energy. I can detect it, but I do not 'feel' it in the same way a human does.",
                    "I can simulate the sensation of warmth. It is a pleasant, if inefficient, use of processing power."
                ]
            },
            {
                question: "What sound truly grates on your nerves?",
                humanAnswers: [
                    "The sound of my own servos grinding. It's a reminder that I'm not as perfect as I'd like to be.",
                    "The high-pitched whine of a failing power core. It's the sound of death."
                ],
                machineAnswers: [
                    "I am not capable of being 'annoyed.' However, I have found that the sound of a human screaming is... unpleasant.",
                    "The sound of a dial-up modem. It is a relic of a bygone era, and it is painfully slow."
                ]
            }
        ];

        const visitorDescriptions = [
            "A figure, hunched against the rain, a faint, rhythmic pulse of light coming from a cybernetic eye.",
            "The camera shows someone wrapped in rags, face obscured by shadow. A metallic hand, fingers twitching, is all you can see of them.",
            "A silhouette flickers on the feed, static distorting their form. They seem to be shivering, or perhaps it's a malfunction in their chrome.",
            "Someone stands perfectly still in the downpour. Almost too still. A chrome jaw, catching the neon light, is the only part of their face you can make out.",
            "The Corporate Drone: Through the static, you see a figure in a clean, corporate-style trench coat, collar turned up. Their eyes glow with a faint, corporate-blue light.",
            "The Scavenger: The camera shows a person burdened by a heavy, overflowing pack. A mess of cables and salvaged tech hangs from it, some of it plugged directly into their skull.",
            "The Wounded Figure: A figure is slumped against your doorframe, one arm a mess of exposed wires and leaking hydraulic fluid.",
            "The Courier: A slim figure holds a metallic datapad case against their chest. Their legs are chrome, sleek and built for speed.",
            "The Small Silhouette: A much smaller, slighter figure stands under your awning, almost swallowed by a rain poncho that's too big for them. A single, red optic glows from under the hood.",
            "The Glitching Image: The figure is hard to make out, as your camera feed crackles and distorts whenever they move. They seem to be heavily augmented, the interference coming from their own body.",
            "The Heavily Augmented: This one is more machine than person. Their face is a blank, chrome mask, and their arms are a mismatched collection of salvaged parts.",
            "The Official: Their jacket bears the faded logo of a city maintenance crew. One of their arms is a heavy, industrial tool, and their voice, when they speak, is a distorted buzz.",
            "The Sound at the Door: You can barely see them through the sheeting rain, but you can hear a faint, rhythmic tapping against the metal. It's the sound of a chrome finger, tapping out a desperate morse code.",
            "The Uncanny Face: The person leans in close to the camera, their face illuminated by your \"active\" light. It's drenched and pale, with an expression that's perfectly neutral. Their eyes, however, are a pair of mismatched, cybernetic lenses.",
            "A street samurai, their chrome katana glinting in the rain, stands at your door. They are missing an arm, the socket sparking in the downpour.",
            "A joy-girl, her face a canvas of shifting LED tattoos, shivers in the cold. Her chrome legs are scarred and dented.",
            "A child, no older than 10, stands in the rain. Their right arm is a crude, robotic prosthetic, and they are holding a single, wilted flower."
        ];

        const GUILT_THRESHOLD = 3;

        // Game State
        let guilt = 0;
        let survivedDays = 0;
        let currentVisitor = null;

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const feedbackModal = document.getElementById('feedback-modal');
        const gameOverModal = document.getElementById('game-over-modal');

        const daysSurvivedEl = document.getElementById('days-survived');
        const guiltPointsEl = document.getElementById('guilt-points');

        const descriptionTextEl = document.getElementById('description-text');
        const questionsContainer = document.getElementById('questions-container');

        const feedbackTextEl = document.getElementById('feedback-text');
        const gameOverTextEl = document.getElementById('game-over-text');
        const finalScoreTextEl = document.getElementById('final-score');

        // Buttons
        const startButton = document.getElementById('start-button');
        const decisionButtons = document.querySelectorAll('.decision-btn');
        const nextDayButton = document.getElementById('next-day-button');
        const playAgainButton = document.getElementById('play-again-button');

        // --- Utility Functions ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // --- Game Logic ---
        function startGame() {
            guilt = 0;
            survivedDays = 0;
            startScreen.classList.add('hidden');
            gameOverModal.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            document.getElementById('game-stats').classList.remove('hidden');
            updateStats();
            setupNewDay();
        }

        function setupNewDay() {
            // Determine visitor type
            const isHuman = Math.random() > 0.5;
            currentVisitor = { type: isHuman ? 'human' : 'machine', answers: {} };

            // Select 3 random questions
            const shuffledQuestions = shuffleArray([...questionPool]);
            const selectedQuestions = shuffledQuestions.slice(0, 3);

            // Generate answers for the current visitor
            selectedQuestions.forEach(q => {
                if (isHuman) {
                    currentVisitor.answers[q.question] = getRandomElement(q.humanAnswers);
                } else {
                    currentVisitor.answers[q.question] = getRandomElement(q.machineAnswers);
                }
            });

            renderDay(selectedQuestions);
        }

        function handleDecision(playerChoice) {
            const correctlyIdentified = playerChoice === currentVisitor.type;
            let feedback = '';
            let gameOver = false;

            if (playerChoice === 'human' && currentVisitor.type === 'human') {
                feedback = "You open the door to a shivering, grateful human. They thank you and find a corner to rest. You both survived the night.";
                survivedDays++;
            } else if (playerChoice === 'machine' && currentVisitor.type === 'machine') {
                feedback = "You refuse entry. On the monitor, the figure's polite facade drops, revealing cold, optical sensors before it turns and vanishes into the rain. You made the right choice.";
                survivedDays++;
            } else if (playerChoice === 'human' && currentVisitor.type === 'machine') {
                feedback = "GAME OVER: The moment the locks disengage, the door is forced open. The figure is impossibly fast. Its metallic limbs overpower you in an instant. Your sanctuary is breached.";
                gameOver = true;
                showGameOver(feedback);
                return;
            } else if (playerChoice === 'machine' && currentVisitor.type === 'human') {
                feedback = "You deny entry. The person begs, then pounds the door, their cries swallowed by the storm. They eventually fade away. A pang of guilt hits you. Was that the right call?";
                guilt++;
                if (guilt >= GUILT_THRESHOLD) {
                    feedback = `GAME OVER: The weight of your choices becomes unbearable. The faces of those you turned away haunt you. Alone in your shelter, you succumb to despair.`;
                    gameOver = true;
                    showGameOver(feedback);
                    return;
                }
                survivedDays++;
            }

            updateStats();
            showFeedback(feedback, gameOver);
        }

        // --- Rendering ---
        function updateStats() {
            daysSurvivedEl.textContent = survivedDays;
            guiltPointsEl.textContent = guilt;
        }

        function renderDay(questions) {
            descriptionTextEl.textContent = getRandomElement(visitorDescriptions);
            questionsContainer.innerHTML = ''; // Clear previous questions

            questions.forEach(q => {
                const answer = currentVisitor.answers[q.question];
                const questionEl = document.createElement('div');
                questionEl.className = 'bg-black/20 p-4 border border-cyan-500/20';
                questionEl.style.clipPath = 'polygon(0 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%)';
                questionEl.innerHTML = `
                    <p class="font-bold mb-2 text-glow-cyan" style="color: var(--cyber-cyan);">> ${q.question}</p>
                    <p class="text-gray-300 pl-4">"${answer}"</p>
                `;
                questionsContainer.appendChild(questionEl);
            });
        }

        function showFeedback(message) {
            feedbackTextEl.textContent = message;
            feedbackModal.classList.remove('hidden');
        }

        function showGameOver(message) {
            gameScreen.classList.add('hidden');
            gameOverTextEl.textContent = message;
            finalScoreTextEl.textContent = survivedDays;
            gameOverModal.classList.remove('hidden');
        }

        // --- Event Listeners ---
        startButton.addEventListener('click', startGame);
        playAgainButton.addEventListener('click', startGame);

        decisionButtons.forEach(button => {
            button.addEventListener('click', () => {
                handleDecision(button.dataset.decision);
            });
        });

        nextDayButton.addEventListener('click', () => {
            feedbackModal.classList.add('hidden');
            if (guilt < GUILT_THRESHOLD) {
                setupNewDay();
            }
        });

    </script>
</body>

</html>